# 函数

Rust中，一个最简单的函数定义是这样的：

```rust
fn a_function() {
  // do nothing
}
```

C++的函数声明顺序是有意义的。在你调用一个函数之前，至少要先声明它。Rust中没有这个规则。你可以以随便的顺序定义函数。

Rust的函数不能分离声明和定义。函数定义太长可能会降低代码可读性，不过`cargo`的文档生成器也很好用。

若有参数，类型必须显式给出：

```rust
fn print_num(x: i32) {
  println!("{}", x);
}
```

C++20的函数参数可以是`auto`。不过那只是模板的简写，而不是一个普通函数。而Rust也有和C++模板/Concept对应的概念，即Trait。所以二者差别不大。

Rust将函数作为expression的一种：

```rust
fn echo(x: i32) -> i32
{
  x
}
```

你如果看着别扭，也可以用`return`：

```rust
fn echo(x: i32) -> i32
{
  return x;
}
```

Rust函数的返回类型，如果有，必须显式声明。C++14开始，返回类型可以是`auto`。如果Rust函数没有声明返回值，则默认返回`()`，从而将所有的函数都变成表达式。
